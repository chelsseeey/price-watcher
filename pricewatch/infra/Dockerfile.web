# 웹 서버 Dockerfile

# 프런트 정적 배포용 Dockerfile (Nginx)
FROM node:20-bullseye AS build
WORKDIR /app
# note: 실제 빌드에는 package.json/lock 필요합니다 (README 참고)
COPY client /app/client
RUN echo "This Dockerfile is a placeholder. Add package.json and build steps when ready." && \
    mkdir -p /app/dist && \
    cp -r client/index.html /app/dist/index.html || true

FROM nginx:1.27-alpine
ARG NGINX_PORT=80
ENV NGINX_PORT=${NGINX_PORT}
COPY infra/nginx.conf /etc/nginx/conf.d/default.conf
COPY --from=build /app/dist /usr/share/nginx/html
